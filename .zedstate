{"split":"1","session.current":["/index.php"],"session.open":{"/index.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1480641935853,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":121}},"text":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">"},{"action":"insertText","range":{"start":{"row":0,"column":121},"end":{"row":1,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":29,"column":0}},"lines":["<html xmlns=\"http://www.w3.org/1999/xhtml\">","<head>","<title>Chat - Customer Module</title>","<link type=\"text/css\" rel=\"stylesheet\" href=\"style.css\" />","</head>"," ","<div id=\"wrapper\">","    <div id=\"menu\">","        <p class=\"welcome\">Welcome, <b></b></p>","        <p class=\"logout\"><a id=\"exit\" href=\"#\">Exit Chat</a></p>","        <div style=\"clear:both\"></div>","    </div>","     ","    <div id=\"chatbox\"></div>","     ","    <form name=\"message\" action=\"\">","        <input name=\"usermsg\" type=\"text\" id=\"usermsg\" size=\"63\" />","        <input name=\"submitmsg\" type=\"submit\"  id=\"submitmsg\" value=\"Send\" />","    </form>","</div>","<script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"></script>","<script type=\"text/javascript\">","// jQuery Document","$(document).ready(function(){"," ","});","</script>","</body>"]},{"action":"insertText","range":{"start":{"row":29,"column":0},"end":{"row":29,"column":7}},"text":"</html>"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":9}},"text":"</script>"},{"action":"removeLines","range":{"start":{"row":6,"column":0},"end":{"row":27,"column":0}},"nl":"\r\n","lines":[" ","<div id=\"wrapper\">","    <div id=\"menu\">","        <p class=\"welcome\">Welcome, <b></b></p>","        <p class=\"logout\"><a id=\"exit\" href=\"#\">Exit Chat</a></p>","        <div style=\"clear:both\"></div>","    </div>","     ","    <div id=\"chatbox\"></div>","     ","    <form name=\"message\" action=\"\">","        <input name=\"usermsg\" type=\"text\" id=\"usermsg\" size=\"63\" />","        <input name=\"submitmsg\" type=\"submit\"  id=\"submitmsg\" value=\"Send\" />","    </form>","</div>","<script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"></script>","<script type=\"text/javascript\">","// jQuery Document","$(document).ready(function(){"," ","});"]},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":5}},"text":"<?php"},{"action":"insertText","range":{"start":{"row":6,"column":5},"end":{"row":7,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":7,"column":0},"end":{"row":33,"column":0}},"lines":["if(!isset($_SESSION['name'])){","    loginForm();","}","else{","?>","<div id=\"wrapper\">","    <div id=\"menu\">","        <p class=\"welcome\">Welcome, <b><?php echo $_SESSION['name']; ?></b></p>","        <p class=\"logout\"><a id=\"exit\" href=\"#\">Exit Chat</a></p>","        <div style=\"clear:both\"></div>","    </div>    ","    <div id=\"chatbox\"></div>","     ","    <form name=\"message\" action=\"\">","        <input name=\"usermsg\" type=\"text\" id=\"usermsg\" size=\"63\" />","        <input name=\"submitmsg\" type=\"submit\"  id=\"submitmsg\" value=\"Send\" />","    </form>","</div>","<script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"></script>","<script type=\"text/javascript\">","// jQuery Document","$(document).ready(function(){","});","</script>","<?php","}"]},{"action":"insertText","range":{"start":{"row":33,"column":0},"end":{"row":33,"column":2}},"text":"?>"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":30,"column":0},"end":{"row":30,"column":9}},"text":"</script>"},{"action":"removeLines","range":{"start":{"row":28,"column":0},"end":{"row":30,"column":0}},"nl":"\r\n","lines":["$(document).ready(function(){","});"]},{"action":"insertText","range":{"start":{"row":28,"column":0},"end":{"row":28,"column":29}},"text":"$(document).ready(function(){"},{"action":"insertText","range":{"start":{"row":28,"column":29},"end":{"row":29,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":29,"column":0},"end":{"row":34,"column":0}},"lines":["    //If user wants to end session","    $(\"#exit\").click(function(){","        var exit = confirm(\"Are you sure you want to end the session?\");","        if(exit==true){window.location = 'index.php?logout=true';}        ","    });"]},{"action":"insertText","range":{"start":{"row":34,"column":0},"end":{"row":34,"column":3}},"text":"});"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":36,"column":1},"end":{"row":37,"column":0}},"text":"\r\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":37,"column":0},"end":{"row":37,"column":28}},"text":"if(isset($_GET['logout'])){ "},{"action":"insertText","range":{"start":{"row":37,"column":28},"end":{"row":38,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":38,"column":0},"end":{"row":46,"column":0}},"lines":["     ","    //Simple exit message","    $fp = fopen(\"log.html\", 'a');","    fwrite($fp, \"<div class='msgln'><i>User \". $_SESSION['name'] .\" has left the chat session.</i><br></div>\");","    fclose($fp);","     ","    session_destroy();","    header(\"Location: index.php\"); //Redirect the user"]},{"action":"insertText","range":{"start":{"row":46,"column":0},"end":{"row":46,"column":1}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":7},"end":{"row":34,"column":0}},"text":"\r\n"},{"action":"insertText","range":{"start":{"row":34,"column":0},"end":{"row":34,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":4},"end":{"row":34,"column":30}},"text":"//If user submits the form"},{"action":"insertText","range":{"start":{"row":34,"column":30},"end":{"row":35,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":35,"column":0},"end":{"row":40,"column":0}},"lines":["    $(\"#submitmsg\").click(function(){    ","        var clientmsg = $(\"#usermsg\").val();","        $.post(\"post.php\", {text: clientmsg});                ","        $(\"#usermsg\").attr(\"value\", \"\");","        return false;"]},{"action":"insertText","range":{"start":{"row":40,"column":0},"end":{"row":40,"column":7}},"text":"    });"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":5},"end":{"row":7,"column":0}},"text":"\r\n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":0},"end":{"row":7,"column":1}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":1},"end":{"row":7,"column":2}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":2},"end":{"row":7,"column":3}},"text":"c"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":3},"end":{"row":7,"column":4}},"text":"l"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":4},"end":{"row":7,"column":5}},"text":"u"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":5},"end":{"row":7,"column":6}},"text":"d"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":6},"end":{"row":7,"column":7}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":7},"end":{"row":7,"column":9}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":8},"end":{"row":7,"column":10}},"text":"''"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":9},"end":{"row":7,"column":10}},"text":"l"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":10},"end":{"row":7,"column":11}},"text":"o"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":11},"end":{"row":7,"column":12}},"text":"g"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":12},"end":{"row":7,"column":13}},"text":"i"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":13},"end":{"row":7,"column":14}},"text":"n"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":14},"end":{"row":7,"column":15}},"text":"."}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":15},"end":{"row":7,"column":16}},"text":"p"}]},{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":16},"end":{"row":7,"column":17}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":17},"end":{"row":7,"column":18}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":20},"end":{"row":7,"column":21}},"text":";"}]}]],"redo":[]},"/login.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1480641934251,"undo":[],"redo":[]},"/post.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":8,"column":1},"end":{"row":8,"column":1}},"lastUse":1480641601135,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":2}},"text":"<?"},{"action":"insertText","range":{"start":{"row":0,"column":2},"end":{"row":1,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":9,"column":0}},"lines":["session_start();","if(isset($_SESSION['name'])){","    $text = $_POST['text'];","     ","    $fp = fopen(\"log.html\", 'a');","    fwrite($fp, \"<div class='msgln'>(\".date(\"g:i A\").\") <b>\".$_SESSION['name'].\"</b>: \".stripslashes(htmlspecialchars($text)).\"<br></div>\");","    fclose($fp);","}"]},{"action":"insertText","range":{"start":{"row":9,"column":0},"end":{"row":9,"column":2}},"text":"?>"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":1},"end":{"row":9,"column":0}},"text":"\r\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":8,"column":1},"end":{"row":9,"column":0}},"text":"\r\n"}]}]],"redo":[]},"/style.css":{"scrollTop":119,"scrollLeft":0,"selection":{"start":{"row":55,"column":28},"end":{"row":55,"column":28}},"lastUse":1480640741893,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":18}},"text":"/* CSS Document */"},{"action":"insertText","range":{"start":{"row":0,"column":18},"end":{"row":1,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":55,"column":0}},"lines":["body {","    font:12px arial;","    color: #222;","    text-align:center;","    padding:35px; }","  ","form, p, span {","    margin:0;","    padding:0; }","  ","input { font:12px arial; }","  ","a {","    color:#0000FF;","    text-decoration:none; }","  ","    a:hover { text-decoration:underline; }","  ","#wrapper, #loginform {","    margin:0 auto;","    padding-bottom:25px;","    background:#EBF4FB;","    width:504px;","    border:1px solid #ACD8F0; }","  ","#loginform { padding-top:18px; }","  ","    #loginform p { margin: 5px; }","  ","#chatbox {","    text-align:left;","    margin:0 auto;","    margin-bottom:25px;","    padding:10px;","    background:#fff;","    height:270px;","    width:430px;","    border:1px solid #ACD8F0;","    overflow:auto; }","  ","#usermsg {","    width:395px;","    border:1px solid #ACD8F0; }","  ","#submit { width: 60px; }","  ",".error { color: #ff0000; }","  ","#menu { padding:12.5px 25px 12.5px 25px; }","  ",".welcome { float:left; }","  ",".logout { float:right; }","  "]},{"action":"insertText","range":{"start":{"row":55,"column":0},"end":{"row":55,"column":28}},"text":".msgln { margin:0 0 2px 0; }"}]}]],"redo":[]}},"window":{"width":1024,"height":738,"top":0,"left":104,"isMaximized":false}}